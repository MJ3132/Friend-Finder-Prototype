<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.1/css/all.css">
    <link rel="stylesheet" href="">
    <title>Title</title>
</head>



<style>
    form {
        display: flex;
        flex-direction: column;
        justify-content: center;

    }

    select {
        font-size: .9rem;
        padding: 2px 5px;
        width: 200px;
        display: flex;
        margin: 5px;
        box-sizing: border-box;
        align-items: center;
    }

    button {
        width: 200px;
        height: 50px;
        padding: 10px;
        margin: 5px;

    }
</style>

<body>

    <form>
        <!-- User Information -->
        <label for="name">Name</label>
        <input type="text" id="name" class="form-control" name="name" required>

        <label for="url-image">Link your profile photo</label>
        <input type="url" id="url" class="form-control" name="url-image" placeholder="your URL" required>

        <!-- friend compatability questions -->
        <h3>Question 1</h3>
        <h4>How much do you like playing sports?</h4>
        <select class="chosen" id="q1" required>
            <option value="" selected="selected">select and option</option>
            <option value="1">1 (strongly disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (strongly agree)</option>
        </select>

        <h3>Question 2</h3>
        <h4>Are you an extroverted person?</h4>
        <select class="chosen" id="q2" required>
            <option value="" selected="selected">select and option</option>
            <option value="1">1 (strongly disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (strongly agree)</option>
        </select>

        <h3>Question 3</h3>
        <h4>Do you like to read books?</h4>
        <select class="chosen" id="q3" required>
            <option value="" selected="selected">select and option</option>
            <option value="1">1 (strongly disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (strongly agree)</option>
        </select>

        <h3>Question 4</h3>
        <h4>Do you like to travel?</h4>
        <select class="chosen" id="q4" required>
            <option value="" selected="selected">select and option</option>
            <option value="1">1 (strongly disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (strongly agree)</option>
        </select>

        <h3>Question 5</h3>
        <h4>Do you like philosophy?</h4>
        <select class="chosen" id="q5" required>
            <option value="" selected="selected">select and option</option>
            <option value="1">1 (strongly disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (strongly agree)</option>
        </select>

        <h3>Question 6</h3>
        <h4>Do you like playing video games?</h4>
        <select class="chosen" id="q6" required>
            <option value="" selected="selected">select and option</option>
            <option value="1">1 (strongly disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (strongly agree)</option>
        </select>

        <h3>Question 7</h3>
        <h4>Do you play any musical instruments?</h4>
        <select class="chosen" id="q7" required>
            <option value="" selected="selected">select and option</option>
            <option value="1">1 (strongly disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (strongly agree)</option>
        </select>

        <h3>Question 8</h3>
        <h4>Are you an independent person?</h4>
        <select class="chosen" id="q8" required>
            <option value="" selected="selected">select and option</option>
            <option value="1">1 (strongly disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (strongly agree)</option>
        </select>

        <h3>Question 9</h3>
        <h4>Do you like working out?</h4>
        <select class="chosen" id="q9" required>
            <option value="" selected="selected">select and option</option>
            <option value="1">1 (strongly disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (strongly agree)</option>
        </select>

        <h3>Question 10</h3>
        <h4>Do you get anoyed easily?</h4>
        <select class="chosen" id="q10" required>
            <option value="" selected="selected">select and option</option>
            <option value="1">1 (strongly disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (strongly agree)</option>
        </select>
        <button id="submit" value="submit">Submit</button>
    </form>


    <!---Modal-->
    <div class="modal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Match</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>Best Match</p>
                    <div id="resultsModal">
                        <h2 id="matchName"></h2>
                        <img id="matchImg" src="" alt="">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>

                </div>
            </div>
        </div>
    </div>







    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.13.0/umd/popper.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.2/js/bootstrap.min.js"></script>
</body>

<script>
    $('#submit').on('click', function (event) {



        function validateForm() {
            var isValid = true;
            $('.form-control').each(function () {
                if ($(this).val() === "") {
                    isValid = false;
                }
            });

            $(".chosen").each(function () {
                if ($(this).val() === "") {
                    isValid = false;
                }
            });
            return isValid;
        } 
    if(validateForm){
        var userData = {
            name: $('#name').val().trim(),
            photo: $('#url').val().trim(),
            scores: [
                $('#q1').val(),
                $('#q2').val(),
                $('#q3').val(),
                $('#q4').val(),
                $('#q5').val(),
                $('#q6').val(),
                $('#q7').val(),
                $('#q8').val(),
                $('#q9').val(),
                $('#q10').val()

            ]

        };

    

        console.log(userData);
        // grabs the url of the website 
        var currentURL = window.location.origin;


        $.post(currentURL + '/api/friends',userData, function (data) {
                console.log(data);

                $("#matchName").text(data.name);
                $("#matchImg").attr("src", data.photo)

                //show modal

                $('.modal').modal();



            });
        
        }

    });

</script>




</html>